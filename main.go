package main

import (
	"fmt"
	WBU "sandbox/Waterbase-Utils"
)

func main() {

	var service WBU.Service
	serviceName := "bf5"
	authKey := "D1AEB3782FACB2662660ABF4347D5D36F64A40597CD71AA9F9EA45B066E37EA1F9454197F05AC69A5D5AAB7332C29F38626265B3AC2C6EE2F813171559190884BD45F2396D805F17A3F55B75DBEF7E3696EB55DC6F1EBC143A7B96830AB5257B2D5CFE752155E0F88788EE416E8BBCED0CB0814055E9212D48F7586E215AB42751B4B9D2C5FF6A02328BE40CE699320E6495FFE0A8C105A041BAD8AF2030D00B8D61649A0095C1DA159CA2927F58A2EDBFAEE1D8781AD7F4081FD4385C6B7F36E439433A33CE37B3A9C3BBA91A05EDAA22E271FD87C2DA6A8AE6CF5811F7EC329E34BFF5C2183FA70942E5832225DD93BC1B9B1542B15DE52A84E6B3E7F3913A3705CFF19BCC01E26C00CE8C713956B0C11719C9E802255B5D2125DB6F22255FA5C66390E24E4415F2AA0F5F1D47FA66BC20F8F70CC60C1EAB2910375C3D15C83CD9D6A67050220CCAB82612540160D4099C139F584315C25F103D41116E66B129868E719139C9EB0E836A23C1B73E1641E37AA71FDCC1F3F8209A9D8F5F0EBB961012F9C595BE869BAD81FFC2C2CE48AF54DE83603754BF64BE69AE0DF909C769F9A4C4EB0D8A82B5CAD7D62F361F6A44686BEDF0741F8B2F45A032D2B33B48F5435C3EEB253F10F69EE192334CD6BB77C79A8447BF304649FE8A9F3BDED9D3054027D38205D806BF827878046CAC2F46F3ECC"

	Foundbf5, found := WBU.GetService(serviceName, authKey)

	if found {
		fmt.Println("Found old service")
		service = Foundbf5
	} else {
		fmt.Println("New Service created")
		Newbf5, _ := WBU.CreateService(serviceName, "John", "Keks")
		service = Newbf5
	}

	data := make(map[string]interface{})

	data["PlayerName"] = "TeamKriss"

	service.CreateCollection("Cheaters").CreateDocument("TeamKriss", data)
	fmt.Println(*service.GetCollection("Cheaters").Documents["TeamKriss"])
	/*
		success := WBU.DeleteService("Sandbox", Sandbox.Authkey)
		if !success {
			return
		}
	*/

}
